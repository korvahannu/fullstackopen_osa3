{"version":3,"sources":["services/personServices.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","console","log","id","delete","number","put","Notification","message","className","Error","Filter","filter","inputChange_filter","value","onChange","PersonForm","props","onSubmit","submitForm","newName","inputChange_newName","newNumber","inputChange_newNumber","type","Persons","setPersons","personList","notif","map","person","name","toLowerCase","includes","onClick","window","confirm","personServices","per","App","useState","persons","setNewName","setNewNumber","setFilter","notification","setNotification","errorMessage","setErrorMessage","Notify","duration","setTimeout","useEffect","event","preventDefault","checkDouble","toLocaleLowerCase","length","updatedPerson","update","catch","error","newGuy","concat","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.262acba4.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\r\n    const request = axios.get(baseUrl);\r\n\r\n    return request.then(\r\n        response => response.data\r\n    );\r\n\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n\r\n    const request = axios.post(baseUrl, newPerson);\r\n\r\n    return request.then(\r\n        response => {\r\n\t\t\tconsole.log(response.data)\r\n\t\t\treturn response.data\r\n\t\t}\r\n    );\r\n\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n\r\n    request.then(\r\n        response => console.log(response)\r\n    );\r\n}\r\n\r\nconst updatePerson = (id, newPerson) => {\r\n    const number = newPerson.number;\r\n    const request = axios.put(`${baseUrl}/${id}?number=${number}`, newPerson);\r\n\r\n    return request.then(response => response.data);\r\n}\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default {getAll, addPerson, deletePerson, updatePerson}","import React, { useState, useEffect } from 'react'\nimport personServices from './services/personServices.js'\n\nconst Notification = ({message}) => {\n  if(message === null)\n    return null;\n\n  return (\n    <div className='notification'>\n      {message}\n    </div>\n  );\n}\n\nconst Error = ({message}) => {\n  if(message === null)\n    return null;\n  \n  return (\n    <div className='error'>\n      {message}\n    </div>\n  );\n}\n\nconst Filter = ({filter, inputChange_filter}) => {\n\n  return (\n\n    <div id=\"filter\">\n      Filter <input value={filter} onChange={inputChange_filter} />\n    </div>\n\n  );\n}\n\nconst PersonForm = (props) => {\n  return (\n\n    <form onSubmit={props.submitForm}>\n    <div>\n      Name <input value={props.newName} onChange={props.inputChange_newName} />\n      <br /><br />\n      Number <input value={props.newNumber} onChange={props.inputChange_newNumber} />\n    </div>\n    <div> <br />\n      <button type=\"submit\">add new person</button>\n    </div>\n  </form>\n\n  );\n}\n\nconst Persons = ({setPersons, personList, filter, notif}) => {\n\n  return(\n\n  <div>\n\n  {\n  personList.map(\n    person => {\n      if(person.name.toLowerCase().includes(filter.toLowerCase()))\n      {\n        return (\n          <div key={person.name}>\n            {person.name} {person.number}\n            <button className=\"deleteButton\" onClick={()=> {\n              if(window.confirm(`Delete ${person.name}?`))\n              {\n                personServices.deletePerson(person.id)\n                setPersons(personList.filter(per => per.id !== person.id))\n                notif(`Deleted ${person.name}`, 5000);\n              }\n              }}>\n              x\n            </button>\n          </div>\n        )\n      }\n      else  return(null);\n    }\n  )\n  }\n  \n  </div>\n\n  );\n}\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [filter, setFilter] = useState('');\n\n  const [notification, setNotification] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n\n  const inputChange_newName = event => setNewName(event.target.value);\n  const inputChange_newNumber = event => setNewNumber(event.target.value);\n  const inputChange_filter = event => setFilter(event.target.value);\n\n  function Notify(message, duration) {\n    setNotification(message)\n\n    setTimeout(\n      ()=>setNotification(null)\n      ,duration\n    )\n  }\n\n  function ErrorMessage(message, duration) {\n    setErrorMessage(message)\n\n    setTimeout(\n      ()=>setErrorMessage(null)\n      ,duration\n    )\n  }\n\n  const hook = () => \n  {\n    personServices.getAll()\n    .then(personList => setPersons(personList));\n  }\n\n  useEffect(hook, []);\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    \n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    let checkDouble = persons.filter(person => person.name.toLowerCase() === newPerson.name.toLocaleLowerCase());\n\n    if(checkDouble.length > 0)\n    {\n      if(window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`))\n      {\n        const updatedPerson = {\n          id: checkDouble[0].id,\n          name: newPerson.name,\n          number: newPerson.number\n        }\n\n        personServices\n        .updatePerson(updatedPerson.id, updatedPerson)\n        .then (update => {\n          Notify(`Updated phonenumber of ${update.name}`, 5000);\n          setPersons(\n            persons.map(person => person.id === update.id ? update : person)\n          );\n\n        })\n        .catch(error => {\n          \n          console.log(\"HEI HEI SE OLEN MINÃ„\" +  error);\n          ErrorMessage(`Information of ${newPerson.name} has already been removed from server`, 5000);\n\n          setPersons(\n            persons.filter(person => person.id !== updatedPerson.id)\n          );\n\n        });\n      }\n    }\n    else\n    {\n\t\tconsole.log(\"Adding new guy\");\n      personServices\n      .addPerson(newPerson)\n      .then(newGuy => {\n        setPersons(persons.concat(newPerson));\n        Notify(`Added ${newPerson.name}`, 5000)\n      });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  }\n  \n  return (\n    <div id=\"wrapper\">\n\n\n      <h1>Phonebook</h1>\n\n      <Notification message={notification} />\n      <Error message={errorMessage} />\n\n      \n\n      <h2>Add new</h2>\n\n      <PersonForm submitForm={submitForm} newName = {newName} inputChange_newName = {inputChange_newName} newNumber = {newNumber} inputChange_newNumber = {inputChange_newNumber} />\n\n      <h2>Numbers</h2>\n      <Filter filter={filter} inputChange_filter={inputChange_filter} />\n\n      <Persons setPersons={setPersons} notif={Notify} personList={persons} filter={filter} />\n\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}